porta		equ	$00portb		equ	$01portc		equ	$02portd		equ	$03ddra		equ	$04ddrb		equ	$05ddrc		equ	$06timerData	equ	$08timerCtrl	equ	$09MiscReg		equ	$0asciCtrl		equ	$10sciSTS		equ	$11sciData		equ	$12									org	$0100main						lda	#$ff			sta	ddrb			sta	ddra						lda	#$38			jsr	writeCr						lda	#$00			ze			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop						dec	a			bne	ze						lda	#$38			jsr	writeCr    								lda	#$00			zer			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop			nop						dec	a			bne	zer						lda	#$38			jsr	writeCr    		jsr	waitflag						lda	#$e			jsr	writeCr   			jsr	waitflag									lda	#$6			jsr	writeCr	    	jsr	waitflag		 			lda	#$2			jsr	writeCr    		jsr	waitflag						lda	#$01			jsr	writecr			jsr	WaitFlag						lda	#$30			sta	$80			sta	$81			sta	$82			sta	$83			sta	$84			sta	$85			sta	$86			sta	$87			ldx	#$0			loop		lda	$80			inc	a			cmp	#$3a			beq	sup0			sta	$80 			jsr	afftc			jmp	loop			sup0		lda	#$30						sta	$80 					lda	$81			inc	a			cmp	#$3a			beq	sup1			sta	$81			jsr	afftc			jmp	loop			sup1		lda	#$30						sta	$81 					lda	$82			inc	a			cmp	#$3a			beq	sup2			sta	$82 			jsr	afftc			jmp	loop			sup2		lda	#$30						sta	$82 					lda	$83			inc	a			cmp	#$3a			beq	sup3			sta	$83 			jsr	afftc			jmp	loop			sup3		lda	#$30						sta	$83 					lda	$84			inc	a			cmp	#$3a			beq	sup4			sta	$84 			jsr	afftc			jmp	loop			sup4		lda	#$30						sta	$84 					lda	$85			inc	a			cmp	#$3a			beq	sup5			sta	$85			jsr	afftc			jmp	loop			sup5		lda	#$30						sta	$85					lda	$86			inc	a			cmp	#$3a			beq	sup6			sta	$86			jsr	afftc			jmp	loop			sup6		lda	#$30						sta	$86						lda	$87			inc	a			cmp	#$3a			beq	sup7			sta	$87			jsr	afftc			jmp	loop		sup7		lda	#$30						sta	$87			jsr	afftc			jmp	loop				afftc		stx	$89			jsr	waitflag			lda	#$2			jsr	writeCr    		jsr	waitflag									lda	#$54			jsr	writechar			lda	#$43			jsr	writechar			lda	#$3a			jsr	writechar			lda	#$20			jsr	writechar						ldx	#$08affbis		lda	$7f,x			jsr	writechar			dec	x			bne	affbis			ldx	$89			rts		writeChar	jsr	waitflag			jsr	writeData				jsr	waitflag			rtswaitflag	jsr	readcr			tst	a			bmi	waitflag			rtsreadCR		bclr2	portb			bset1	portb			bclr0	portb			clr		a			sta		ddra			bset2	portb			nop			nop			nop			lda		porta			bclr2	portb			rts			WriteCr		bclr2	portb			bclr0	portb			sta		porta			lda		#$ff			sta		ddra			bclr1	portb			bset2	portb			nop			nop			nop			bclr2	portb			nop			bset1	portb			rts		readdata	bclr2	portb			bset1	portb			bset0	portb			clr		a			sta		ddra			bset2	portb			nop			nop			nop			nop			lda		porta			bclr2	portb			rts			Writedata	bclr2	portb			bset0	portb			sta		porta			lda		#$ff			sta		ddra			bclr1	portb			bset2	portb			nop			nop			nop			nop			bclr2	portb			nop			bset1	portb			rts									org	$1ffe			dc.w	main			end